<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_fix">
    <sys_script_fix action="INSERT_OR_UPDATE">
        <before>false</before>
        <description>Convert the Digital Certificates Digital ID to UUID from CSC</description>
        <name>CM Convert DigID to UUID</name>
        <record_for_rollback>false</record_for_rollback>
        <script><![CDATA[var output = "STRY0074367 Fix Script \n\n";

var digID = "287668,255513,255514,252549,287381,265564,256705,292284,277720,243806,293881,293883,259675,229855,250351,269137,277792,258061,294674,258075,278153,244420,227830,291699,238088,272030,238857,293048,278689,275600,291950,285439,255351,246694,255509,255605,249270,292395,280078,259241,254912,278580,278891,286584,244830,288734,230136,261809,246264,289656,250929,269536,259016,246823,288726,292375,249288,280674,254422,254423,265407,265406,268067,281178,255133,287379,256286,279815,247092,258483,269370,270271,275521,284207,278801,274895,278579,269262,275254,278588,241090,290409,286747,229656,264981,243001,272045,285434,265574,260918,228902,280877,230945,230383,285270,258844,264690,291704,242650,285440,277948,277451,285473,268714,261390,292865,241069,292289,243042,243455,232038,241352,289673,278818,255510,255508,292778,230579,249174,279812,251618,233953,235799,247633,235195,273157,294255,243163,241068,239483,255538,294433,259589,259244,257052,257147,251380,260813,244671,244672";

var UUID = "f03da870-4902-471e-be82-e3ae5b4bae81,6ce0ee78-fed3-4713-996f-8b07f3d5317b,3810f04d-382f-4ea8-b8e8-395f0d93492c,9d95de22-deb3-40a8-800a-d0def4436ea0,0fa0f2c7-9b7b-4930-9b78-e961d96fedc7,156c8c81-ce1a-4a38-9b39-65b335cbcab9,f64808be-7f10-4cc4-bf9e-fd5f14632ea5,c3218b68-cbe2-4c09-997b-66e13169cd24,fdbdd5a1-1ac1-41f9-a015-bcbdb9ccfb51,1fd3cecc-0b6d-4d31-ad6d-b77fdacbcb02,67357091-ecea-4335-a4c5-549cdb6b42cb,26e98a63-47f9-434f-8eaa-2edf53f7c854,f4e4098d-2d7d-4347-b879-8e95c5cd7943,28df7592-c106-4548-a911-8b346d30d88a,c8f33f42-6fc5-4957-9117-67036dc647f9,23603f3b-b1a1-4227-876e-e70b44218330,b2be8c78-79ed-4960-bf53-a22fbea88f95,0e732c16-4e57-49e1-b3b1-5daf94f3b498,5437b7f1-0f2e-4db4-ad2f-fcd2c7542404,ce5e0f92-27f6-4bb0-a109-5da1611f3b16,93c2ab2d-522b-4218-8328-e9d79062e979,80d91512-2cbc-40a6-a7bf-ecc95515b3d0,15050a48-b1a6-48ef-a734-46cb82d9ec4e,664c6667-5682-4356-b123-2681b978b1b7,bb13dd28-8e70-432d-b1ac-73069a12cbbc,4161d6f6-52be-4cda-907c-bb0e09e92509,a57dcb7d-2c40-42e0-90cd-9a84bffaf1f9,5c9691b3-ddb9-4771-8150-9125d65523b3,241b55ba-402f-441f-8719-36f941547383,0ab3a0d5-2ca5-44b0-8436-bf220f0e4abf,af9c9f40-7891-46bf-b8f2-820b07e9f698,11c9aeab-7c05-4a21-be59-67d3deae3eaa,87448121-7baf-403b-95d7-a27229d1f681,c3abde98-2402-4e57-9f5c-ae55fa00842d,3502300e-3d10-40a9-9997-e5a892559328,c9717d52-30ef-4521-a37a-bd48ab168b7e,6da385de-ad76-4701-a492-3ea9e6bcfda1,96919be1-cbc0-4f7c-b96e-ed9b416473bb,17795785-3d88-4d46-b988-c3b1ee505fa7,d6050ad8-a63a-4a43-88dc-88f12b4f2c54,a39d7d06-7d88-48a6-ad08-afa3549c7133,039a9010-4523-47ac-8fe8-3caa065882e2,fe4f887b-27f5-4be6-ba45-577030007311,b260a8c5-2cf4-4ba0-b440-156ba6082b38,fdd1e3b9-c96f-406e-8935-9b013c9ca97c,14a36f8e-65fe-439c-9f8d-252b946d55da,d94cc164-03b2-4225-add5-714ad6281153,56b47bc6-df99-47ca-b78d-d77df748ec79,9af0c042-ba7a-4e5c-80ae-81ce19f03adc,e27346c9-2409-4667-a290-9ff4ad8ee830,7c2933da-ce5c-4553-b24c-79cd8e429457,4a6daa0a-ff83-4933-9318-fc60cbb8d7e8,443f2386-ccf8-4fcf-ba91-5973cd7decf3,077b556f-03b3-4d07-b576-c3690e348a1f,eb6c90de-8826-4e28-a6c5-d8820843a772,144d446b-01b6-496d-9de3-2373aa351f5b,437989be-1ed2-481f-876b-25004e5f4897,eb85424a-751d-4010-ade8-4eee8e1a92f1,5f49f3ce-f93d-4a6f-a673-2e47a16b7f36,9c5da1de-c06f-492f-9508-857fab8a5249,8f6a74c4-8c04-45be-9f54-217a9bf6d24f,a9e9b009-e479-4328-b4d8-c0573045ce3b,4e4f823b-6648-4f7a-9037-06ff692fcaef,56ce1229-0ef2-4f69-b5df-4cf65379459a,0d6fa8e2-03f6-49e1-b634-f2468e5b2949,9d93ab22-769b-45c1-a3da-f34036bf7b98,f5209b6c-771a-4aac-9f67-d0c7a279fe42,cd3c7e35-6ec3-430e-8ec4-f2199c87b7b4,a1584515-0357-435d-98a8-5603f90b15a2,9838af49-bf56-426d-828f-604c15c2e91f,ad523a5a-51e4-43e3-944c-808ddc8224f8,8da62380-1e56-4303-8f72-0ae13cc7ca52,cb9e9993-5452-46c0-8fba-613ed73ee6ed,7340ae4e-291b-480e-9c10-5b091a53c699,55f98344-912c-42f8-a9dc-f0c9a5e88c7b,a2da2b30-8e37-4e62-ab38-3f0b491ef522,321a0012-9c40-4a36-a170-aa6549c84217,ad5c7d37-41d3-44a7-8f9d-55c2487392da,b17075c5-a6dc-49ca-b7d6-1551a75583d9,8ddfe5be-c903-43f0-9935-9f1eedc93996,2e424d0a-f476-4245-ad63-943aee529ca1,b6de757f-b632-4826-9ee5-a14b0b7a71d2,48469fc9-19cc-4a6f-b26a-173db8c4da19,ea130a04-bd5a-4497-afb6-69cc9e113b5c,fcdf84df-740a-47fa-b5dc-5206161fc360,e467152f-3efd-4ee8-9785-115bd2a72580,e056e969-eb6d-4c57-83a9-34c21b0434ab,ace20005-e91a-4611-b8ef-fe5c5e895275,c192c231-8ac1-4ec5-ac4d-6b5ef3754bcc,e45fa74b-9367-4a5c-b0d3-633c78484f56,7b501ffd-d062-40a7-85e6-696cb6610dac,df92bdcc-1f01-4c48-9c61-9011a7f23822,162f8941-6d3c-458f-b0bf-59cbcee9ecef,2d31a679-fa80-4a46-9aec-c9ba1780ccb9,bd9825a1-2cd0-4cf3-b456-15baa5bf73f2,49cd5452-f846-4d4d-96f6-5e55a9fa012b,2e0a6289-25e9-40ad-a051-e57215a67e4c,55393655-7022-4bdf-8764-e5963f874e8c,4f7a428b-5b46-403a-bad4-1bc1799ae1ec,921695ee-83ae-4a99-9e88-4bbf3ac872df,a1f81478-6224-4d0c-84c9-a75f9ff65c32,83285f7a-3d3c-4c92-a859-4482f64c0989,b464b299-eed8-45d2-aeff-b01898c7fd62,53cb2dec-f818-45ed-8d9e-c1b4a90e457b,9a2ed3a9-3efd-4cfb-8920-076a662c9ab7,934937c4-7802-468f-b8f5-ecc7ae1ae347,a04da159-ed7b-47ad-8096-0f9e78bf08a2,693dc102-df6d-4938-b1ba-5a388dd598ee,2471678b-f188-4fc0-ab08-10623372ab87,12309ef3-116c-4237-8b36-aa0109ac5b75,efa6fb9a-c315-4802-a243-39dbf16798c9,3954e75d-91db-4e4d-b5ed-bd8d92ec2b29,3964b583-6bbf-4f7b-8341-a2da143abd77,0ecae6bf-f7db-47eb-a61b-c8c66d8d1b6e,1bab7987-c129-43e6-b57f-a8a5cf520e7e,5b91fccc-b193-4a61-b9ec-1142c4dea465,c7695773-38d4-4ca0-95f8-cdb8489a11a8,79815055-6f38-475c-88cf-ba698abe16fa,833a3930-7e82-4def-82bf-221abce1c595,e5786019-165c-4a86-9a8a-10b3f78b3507,c373e196-eaf2-4d00-9b57-c5afc8f05b29,e72297c0-d853-4c0e-8239-e340449936a3,e35611d5-afa6-48aa-a029-1a3bdd25ceb8,07c87674-7b6b-48af-adba-a24109b927f5,929f7967-d2b7-4083-a72c-4902751654b4,f4c5007d-a914-4734-9fd2-543518b9c344,bccc82d9-f939-495c-b20d-8171c22ace44,577c78ac-404a-49cd-a19e-e7baa608dee6,cdf90696-9d93-4e0a-bcc1-ae68891f6011,52fe3f54-5c24-428e-83ab-f5b4a35262a1,e23211c0-4bc3-4f92-929b-6a63ef556f5d,ca23fd01-8e40-42ea-90ad-03e2b3c1ff66,59f18744-4da8-4ccd-af33-8c467ca3e3bf,65ffe79d-bb6d-4e80-82e6-a2090a706012,40b464e6-0460-42a0-a406-c6afd110cbcc,490aa055-afc1-425a-8d35-850ac2fb25a9,4dad2402-bd35-417d-8ff9-380d1ce0282f,15b88f20-a77d-4503-8387-ce786a1a4677,ec2cd4a7-608a-4e57-b9ff-df63f3442ae9,d7294f91-37d1-4ca3-a634-6ceb5af61b5d";


var count = 0;

var digIDArray = digID.split(",");
var UUIDArray = UUID.split(",");

for (var index in digIDArray) {
  var grCerts = new GlideRecord('x_unugr_certificat_digital_certificate');
  grCerts.addQuery('u_external_unique_id',digIDArray[index]);
  grCerts.query();
  while (grCerts.next()) {
    count++;
    output += "Replacing " + grCerts.u_external_unique_id + " with " + UUIDArray[index] + "\n";
    grCerts.u_external_unique_id = UUIDArray[index];
    grCerts.update();
     
  }
  
}

output += "Total changed " + count;

gs.info(output);





]]></script>
        <sys_class_name>sys_script_fix</sys_class_name>
        <sys_created_by>CNI06</sys_created_by>
        <sys_created_on>2021-06-25 19:39:31</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>91a375581b49fc14e314c955624bcb09</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>CM Convert DigID to UUID</sys_name>
        <sys_package display_value="Certificate Management" source="x_unugr_certificat">2c9bb9a3db8cbf40d3e954f9489619dd</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Certificate Management">2c9bb9a3db8cbf40d3e954f9489619dd</sys_scope>
        <sys_update_name>sys_script_fix_91a375581b49fc14e314c955624bcb09</sys_update_name>
        <sys_updated_by>CNI06</sys_updated_by>
        <sys_updated_on>2021-06-25 19:43:10</sys_updated_on>
        <unloadable>false</unloadable>
    </sys_script_fix>
</record_update>
